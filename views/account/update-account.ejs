<% layout('layout') %>

<h1><%= title %></h1>

<!-- Display errors and messages if available -->
<% if (errors && errors.length > 0) { %>
  <ul>
    <% errors.forEach(function(error) { %>
      <li><%= error.msg %></li>
    <% }) %>
  </ul>
<% } %>
<% if (message) { %>
  <p><%= message %></p>
<% } %>

<section>
  <h2>Account Update</h2>
  <form action="/account/update-info" method="post">
    <div>
      <label for="first_name">First Name:</label>
      <input type="text" id="first_name" name="first_name" value="<%= first_name %>" required>
    </div>
    <div>
      <label for="last_name">Last Name:</label>
      <input type="text" id="last_name" name="last_name" value="<%= last_name %>" required>
    </div>
    <div>
      <label for="email">Email:</label>
      <input type="email" id="email" name="email" value="<%= email %>" required>
    </div>
    <!-- Hidden field for account ID -->
    <input type="hidden" name="account_id" value="<%= account_id %>">
    <div>
      <input type="submit" value="Update Account">
    </div>
  </form>
</section>

<section>
  <h2>Change Password</h2>
  <form action="/account/change-password" method="post">
    <div>
      <label for="new_password">New Password:</label>
      <input type="password" id="new_password" name="new_password" required>
      <p>Password must be at least 8 characters and contain a mix of letters and numbers.</p>
    </div>
    <!-- Hidden field for account ID -->
    <input type="hidden" name="account_id" value="<%= account_id %>">
    <div>
      <input type="submit" value="Change Password">
    </div>
  </form>
</section>
